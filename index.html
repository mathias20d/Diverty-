<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diverty Eventos | Fiestas Infantiles en Panam√° Centro | Animaci√≥n y Shows</title>
    <meta name="description" content="Organizamos fiestas infantiles m√°gicas en Panam√° Centro. Animadores, shows de burbujas, pintacaritas y m√°s. ¬°Haz la fiesta so√±ada de tus hijos con Diverty Eventos!">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R3G3Y0FLVN"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-R3G3Y0FLVN');
    </script>

    <!-- Schema Markup (Datos Estructurados) para LocalBusiness y Organization - SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": ["LocalBusiness", "Organization"],
      "name": "Diverty Eventos",
      "image": "https://placehold.co/1200x630/A78BFA/ffffff?text=Diverty+Eventos+Logo",
      "url": "https://divertypanama.netlify.app/", <!-- ¬°IMPORTANTE! Reemplaza con la URL real de tu sitio -->
      "telephone": "+50766677965",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Tu Direcci√≥n Exacta Aqu√≠ (Ej: Calle 50, Edificio XYZ)", <!-- ¬°IMPORTANT_E! Reemplaza con tu direcci√≥n f√≠sica -->
        "addressLocality": "Panam√° Centro",
        "addressRegion": "Panam√°",
        "postalCode": "Tu C√≥digo Postal Aqu√≠", <!-- Opcional, pero recomendado si lo tienes -->
        "addressCountry": "PA"
      },
      "priceRange": "$$",
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": [
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday"
          ],
          "opens": "09:00",
          "closes": "18:00"
        },
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": [
            "Saturday",
            "Sunday"
          ],
          "opens": "10:00",
          "closes": "17:00"
        }
      ],
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Cat√°logo de Servicios y Paquetes de Fiestas Infantiles",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Pintacaritas",
              "description": "Transforma a los ni√±os en sus personajes favoritos con pinturas hipoalerg√©nicas."
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Globoflexia",
              "description": "Figuras divertidas y creativas hechas con globos para cada invitado."
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Show de Burbujas Gigantes",
              "description": "¬°Burbujas enormes que los ni√±os pueden atrapar y explotar! Un s√∫per show √∫nico en Panam√°."
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Paquete Fiesta M√°gica Express",
              "description": "Diversi√≥n con animador, juegos, globos y pi√±ata. Ideal para fiestas express."
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Paquete Aventura de Ensue√±o",
              "description": "Servicio completo con payaso, pintacaritas, animaci√≥n, juegos y pi√±ata."
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Paquete Celebraci√≥n Personalizada",
              "description": "Servicio premium con payaso, animaci√≥n, pintacaritas, show de magia c√≥mica y asistencia para pi√±ata."
            }
          }
        ]
      },
      "slogan": "¬°Hacemos magia!",
      "description": "Diverty Eventos ofrece la mejor animaci√≥n y shows para fiestas infantiles en Panam√° Centro, Arraij√°n, La Chorrera, Pacora y Panam√° Norte. Especialistas en shows de burbujas, pintacaritas y paquetes de diversi√≥n inolvidable."
    }
    </script>
    <!-- Tailwind CSS CDN para estilos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter para la tipograf√≠a -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Estilos base para el cuerpo de la p√°gina */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
        }
        /* Estilos personalizados para el hover de botones para consistencia */
        .hover\:bg-purple-600:hover { background-color: #7c3aed; }
        .hover\:bg-pink-600:hover { background-color: #db2777; }
        .hover\:bg-blue-600:hover { background-color: #2563eb; }
        .hover\:bg-green-600:hover { background-color: #16a34a; }
        .hover\:bg-indigo-600:hover { background-color: #4f46e5; }
        /* Estilo para tachar texto (precios anteriores) */
        .line-through { text-decoration: line-through; }

        /* Estilo para el bot√≥n flotante de WhatsApp */
        .whatsapp-float-button {
            position: fixed;
            bottom: 80px; /* Se ajust√≥ la posici√≥n para que est√© m√°s arriba */
            right: 20px;
            z-index: 1000; /* Asegura que est√© por encima de otros elementos */
            width: 56px; /* Ajuste para que el bot√≥n sea cuadrado */
            height: 56px;
            display: flex; /* Usar flexbox para centrar contenido */
            justify-content: center; /* Centra el icono horizontalmente */
            align-items: center; /* Centra el icono verticalmente */
            border-radius: 9999px; /* Redondo completo */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Sombra m√°s pronunciada */
            transition: all 0.3s ease; /* Transiciones suaves para hover */
            background-color: #25D366; /* Color de fondo de WhatsApp */
        }
        .whatsapp-float-button:hover {
            transform: scale(1.1); /* Ligero aumento de tama√±o al pasar el rat√≥n */
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* Sombra a√∫n m√°s pronunciada en hover */
        }

        /* Estilos para el FAQ (aunque no se usan ya) */
        .faq-question {
            cursor: pointer;
            padding: 1rem;
            background-color: #f3f4f6; /* bg-gray-100 */
            border-bottom: 1px solid #e5e7eb; /* border-gray-200 */
            font-weight: 600; /* font-semibold */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .faq-answer {
            padding: 1rem;
            background-color: #ffffff; /* bg-white */
            border-bottom: 1px solid #e5e7eb; /* border-gray-200 */
            display: none; /* Oculto por defecto */
        }
        .faq-arrow {
            transition: transform 0.3s ease;
        }
        .faq-question.active .faq-arrow {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-200 via-pink-200 to-yellow-200 text-gray-800 flex flex-col">

    <!-- Modal de Informaci√≥n General -->
    <div id="infoModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full text-center border-4 border-purple-400">
            <p id="modalMessage" class="text-xl font-bold mb-4 text-purple-700"></p>
            <button id="closeModalButton" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-5 rounded-full shadow-lg transition duration-300">
                ¬°Entendido! üéâ
            </button>
        </div>
    </div>

    <!-- Modal de Promoci√≥n -->
    <div id="promoModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-6 max-w-md w-full text-center border-4 border-green-400">
            <h2 class="text-3xl font-extrabold text-green-700 mb-4">¬°Promoci√≥n del Mes! üåü</h2>
            <p id="promoMessage" class="text-lg text-gray-800 mb-4"></p>
            <button id="closePromoModalButton" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-5 rounded-full shadow-lg transition duration-300">
                ¬°Genial! üéâ
            </button>
        </div>
    </div>

    <!-- Encabezado (Men√∫ de Navegaci√≥n Principal) -->
    <header class="bg-white bg-opacity-95 shadow-xl p-4 w-full rounded-b-xl">
        <nav class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-purple-700 mb-4 sm:mb-0 text-center sm:text-left">
                Diverty Eventos ‚ú®ü•≥
            </h1>
            <ul class="flex flex-wrap justify-center sm:space-x-4 space-x-2">
                <li><button id="navHome" class="text-base font-bold py-1 px-3 rounded-full text-gray-700 hover:bg-purple-100">Inicio üè†</button></li>
                <li><button id="navServices" class="text-base font-bold py-1 px-3 rounded-full text-gray-700 hover:bg-purple-100">Servicios üìã</button></li>
                <li><button id="navPackages" class="text-base font-bold py-1 px-3 rounded-full text-gray-700 hover:bg-purple-100">Paquetes üì¶</button></li>
                <!-- Se elimin√≥ el bot√≥n de Rese√±as -->
                <li><button id="navBooking" class="text-base font-bold py-1 px-3 rounded-full text-gray-700 hover:bg-purple-100">Reservar üóìÔ∏è</button></li>
            </ul>
        </nav>
    </header>

    <!-- Resumen del Carrito de Compra (Barra Flotante) -->
    <div id="cartSummary" class="bg-yellow-200 text-purple-800 font-extrabold p-6 text-center rounded-b-lg shadow-lg border-4 border-yellow-400 hidden">
        <p class="text-2xl sm:text-3xl mb-3">
            üõí √çtems seleccionados: <span id="selectedItemsCount" class="text-purple-700">0</span> | Total: <span id="totalPriceDisplay" class="text-pink-700">$0.00</span>
        </p>
        <button id="proceedToBookButton" class="mt-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-full shadow-md text-base sm:text-lg">
            Proceder a Reservar Ahora! ‚ú®
        </button>
    </div>

    <!-- √Årea de Contenido Principal (donde se cargan las secciones) -->
    <main id="mainContent" class="container mx-auto p-4 flex-grow">
        <!-- El contenido de las secciones (Inicio, Servicios, etc.) ser√° inyectado aqu√≠ por JavaScript -->
    </main>

    <!-- Bot√≥n Flotante de WhatsApp -->
    <a href="https://wa.me/50766677965?text=¬°Hola! Tengo una consulta sobre Diverty Eventos." class="whatsapp-float-button" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/1200px-WhatsApp.svg.png" alt="Logo de WhatsApp" class="w-8 h-8 object-contain">
    </a>

    <!-- Pie de P√°gina -->
    <footer class="bg-purple-700 text-white py-8 px-4 text-center mt-8 rounded-t-xl shadow-inner w-full">
        <p class="text-lg font-semibold">&copy; 2023 Diverty Eventos. ¬°Hacemos magia! ‚ú®</p>
        <p class="text-sm">Todos los derechos reservados. üéâ</p>
    </footer>

    <!-- Script de JavaScript para la funcionalidad de la p√°gina -->
    <script>
        // --- Gesti√≥n del Estado Global de la Aplicaci√≥n ---
        let appState = {
            activeSection: 'home',
            userId: 'guest_user_' + Math.random().toString(36).substring(2, 9),
            selectedItems: [], // Ahora los √≠tems pueden tener { name, price, quantity }
            triviaBubbleDiscountActive: false,
            monthlyPackageDiscountActive: false,
            selectedLocation: 'Panam√° Centro',
            triviaQuestionsShuffled: [],
            currentTriviaQuestionIndex: 0,
            triviaCorrectAnswers: 0,
            currentTriviaTimer: null,
            currentQuestionTimeout: null,
            hasPlayedTrivia: false,
            infoModalCallback: null, 
            bookingFormData: { // Almacenar√° los datos del formulario de reservas
                bookingDate: '',
                bookingTime: '',
                customerName: '',
                customerEmail: '',
                customerPhone: '',
                eventType: '',
                numKids: '',
                exactLocation: '',
                selectedLocation: 'Panam√° Centro' 
            },
        };

        // --- Definici√≥n de Datos (Servicios y Paquetes) ---
        const servicesData = [
            { id: '2', name: 'Pintacaritas üé®üëßüë¶', price: 40, description: 'Transforma a los ni√±os en sus personajes favoritos con pinturas hipoalerg√©nicas. Servicio por 1 hora.', color: 'bg-blue-100 border-blue-300 text-blue-800' },
            { id: '3', name: 'Globoflexia üéàüí´', price: 40, description: 'Figuras divertidas y creativas hechas con globos para cada invitado. Servicio por 1 hora.', color: 'bg-green-100 border-green-300 text-green-800' },
            { id: '6', name: 'Show de Burbujas Gigantes ü´ß', price: 135, description: '¬°Burbujas enormes que los ni√±os pueden atrapar y explotar! Servicio por 1 hora. ¬°Un s√∫per show √∫nico en Panam√°!', color: 'bg-teal-100 border-teal-300 text-teal-800' },
            { id: '7', name: 'Decoraciones Tem√°ticas üéàüéâ', price: 120, description: 'Transforma cualquier espacio en un mundo m√°gico con nuestras decoraciones personalizadas.', color: 'bg-fuchsia-100 border-fuchsia-300 text-fuchsia-800' },
            { id: '8', name: 'M√°quinas de Snack Algod√≥n y Pop Corn üçøüç≠', price: 100, description: 'M√°quinas de algod√≥n de az√∫car y palomitas de ma√≠z para endulzar tu evento. Servicio por 3 horas.', color: 'bg-lime-100 border-lime-300 text-lime-800' },
        ];

        const packagesData = [
            { id: 'P1', name: 'Fiesta M√°gica Express üöÄ', price: 75, services: [
                'Payas@ o animad@r ü§°üé§',
                'Animaci√≥n infantil ü•≥üíÉ',
                'Juegos y concursos üé≤üèÜ',
                'Figuras con globos üéàüê∂',
                'Romper la pi√±ata üç¨üéâ'
            ], description: 'Diversi√≥n express de 1.5 horas: Animador, juegos, globos, pi√±ata. ¬°Ideal para fiestas r√°pidas y llenas de alegr√≠a! ü•≥', color: 'bg-pink-100 border-pink-300 text-pink-800' },
            { id: 'P2', name: 'Aventura de Ensue√±o üåà', price: 100, services: [
                'Payas@ o animad@r ü§°üé§',
                'Pintacaritas üé®üëßüë¶',
                'Animaci√≥n infantil ü•≥üíÉ',
                'Juegos y concursos üé≤üèÜ',
                'Figuras con globos üéàüê∂',
                'Romper la pi√±ata üç¨üéâ'
            ], description: 'Aventura completa de 2 horas: Payaso/animador, pintacaritas, animaci√≥n, juegos, globos, pi√±ata. ¬°Todo para una celebraci√≥n inolvidable! üåà', color: 'bg-indigo-100 border-indigo-300 text-indigo-800' },
            { id: 'P3', name: 'Celebraci√≥n Personalizada ‚ú®', price: 135, services: [
                'Payasit@ o animad@r ü§°üé§',
                'Animaci√≥n juegos y concursos ü•≥üé≤',
                'PintaCaritas üé®üëßüë¶',
                'Show de magia C√≥mica ‚ú®ü§£',
                'Asistencia para la pi√±ata üç¨üéâ'
            ], description: 'Celebraci√≥n premium de 2.5 horas: Payaso/animador, juegos, pintacaritas, magia c√≥mica, asistencia de pi√±ata. ¬°Dise√±a tu fiesta perfecta!üíñ', color: 'bg-orange-100 border-orange-300 text-orange-800' },
        ];

        // Recargos por transporte seg√∫n la ubicaci√≥n
        const transportFeesByLocation = {
            'Panam√° Centro': 0,
            'Arraij√°n': 10,
            'La Chorrera': 15,
            'Pacora': 10,
            'Panam√° Norte': 10,
        };

        // Preguntas de la Trivia
        const triviaQuestions = [
            {
                question: "Soy una perrita azul, me encanta jugar con mi hermana Bingo y mis padres. ¬øQui√©n soy?",
                options: ["Bingo", "Chilli", "Bluey", "Bandit"],
                answer: "Bluey"
            },
            {
                question: "Uso lentes y un sombrero naranja, y me encanta explorar lugares divertidos para ni√±os. ¬øQui√©n soy?",
                options: ["Elmo", "Mickey Mouse", "Blippi", "El Pato Donald"],
                answer: "Blippi"
            },
            {
                question: "Soy un payaso h√©roe con una nariz roja y un coraz√≥n grande, que siempre ayuda a los ni√±os. ¬øQui√©n soy?",
                options: ["Bob Esponja", "Plim Plim", "Peppa Pig", "Pocoy√≥"],
                answer: "Plim Plim"
            },
            {
                question: "Soy la hermana de Bluey, y juntas hacemos muchas aventuras imaginarias. Mi color es naranja. ¬øQui√©n soy?",
                options: ["Bluey", "Chilli", "Bingo", "Bandit"],
                answer: "Bingo"
            },
            {
                question: "Me llamo Bandit, soy el pap√° de Bluey y Bingo. ¬øQu√© animal soy?",
                options: ["Perro", "Gato", "Oso", "Conejo"],
                answer: "Perro"
            },
            {
                question: "Visto de naranja y azul, me encanta bailar y ense√±ar sobre el mundo. ¬øQui√©n soy?",
                options: ["Blippi", "Elmo", "JJ de Cocomelon", "Peppa Pig"],
                answer: "Blippi"
            },
            {
                question: "Mi canci√≥n es 'Un mundo m√°gico, un mundo de amor'. Soy un payaso que hace sonre√≠r a todos. ¬øQui√©n soy?",
                options: ["Plim Plim", "Patylu", "El Chavo del 8", "Cantinflas"],
                answer: "Plim Plim"
            },
            {
                question: "Soy la mam√° de Bluey y Bingo, y me llamo Chilli. ¬øQu√© animal soy?",
                options: ["Perro", "Gato", "Pato", "Caballo"],
                answer: "Perro"
            },
            {
                question: "En el mundo de Blippi, soy un amigo peludo con una nariz de payaso. ¬øQui√©n soy?",
                options: ["Buddy", "Gilly", "Squeaky", "Pebbles"],
                answer: "Squeaky"
            },
            {
                question: "Siempre digo '¬°Es hora de la aventura!' y tengo una mochila m√°gica. ¬øQui√©n soy?",
                options: ["Dora la Exploradora", "Mickey Mouse", "Blippi", "Paw Patrol"],
                answer: "Blippi"
            }
        ];

        // --- Funciones de Ayuda ---

        /**
         * Baraja un array de forma aleatoria (Fisher-Yates shuffle).
         * @param {Array} array - El array a barajar.
         * @returns {Array} El array barajado.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        /**
         * Inyecta el HTML de una secci√≥n en el √°rea de contenido principal.
         * @param {string} sectionHtml - El HTML de la secci√≥n a renderizar.
         */
        function renderSection(sectionHtml) {
            document.getElementById('mainContent').innerHTML = sectionHtml;
        }

        /**
         * Actualiza el resumen del carrito flotante con el n√∫mero de √≠tems y el precio total.
         */
        function updateCartSummary() {
            let currentTotalPrice = appState.selectedItems.reduce((sum, item) => {
                let itemPriceAdjusted = item.price;
                // Determina si el √≠tem es un paquete comparando con los nombres en packagesData
                const isPackage = packagesData.some(p 
